<!DOCTYPE html>
<html>
<head>
    <title>API Call Result</title>
    <style>
        body {
            background-image: url('/home/robotics/work/MiniChallenge/clase/BackGround.jpg');
            background-size: cover;
        }
    </style>
    <script>
        function updateResult() {
            fetch('/api/result')
                .then(response => response.text())
                .then(result => {
                    document.getElementById('result').textContent = result;
                });
        }

        function updateImage() {
            fetch('/api/image')
                .then(response => response.json())
                .then(data => {
                    const imgElement = document.getElementById('result_img');
                    imgElement.src = 'data:image/jpeg;base64,' + data.image;
                });
        }

        function updateIds() {
            fetch('/api/ids')
                .then(response => response.json())
                .then(data => {
                    const idsContainer = document.getElementById('ids_container');
                    idsContainer.innerHTML = data.ids.join(', ');
                });
        }

        setInterval(updateResult, 200);
        setInterval(updateImage, 200);
        setInterval(updateIds, 200);
    </script>
</head>
<body style="position:relative; width: 95vw; display: flex; align-items: center; flex-direction: column;">
    <h1>Detección de Arucos</h1>
    <p id="result"></p>
    <div style="position:relative; width: 95vw; display: flex; flex-direction: column; align-items: center;">
        <div>
            <img id="result_img" alt="Detected Image"/>
        </div>
        <div id="ids_container" style="color: black; margin-top: 20px;"></div>
        <div style="display: flex; justify-content: space-between; width: 95vw;">
            <!-- Other Divs as needed for your layout -->
        </div>
        <div>
            Kevin Alberto Crisostomo A00832188
            Samantha Daniela Guanipa Ugas A01703936
            Guillermo Emanuel Ayala Martínez A01197833
            Laura Alejandra Méndez Campos - A00824473
            André Borda Ramos - A01284398
        </div>
    </div>
</body>
</html>
